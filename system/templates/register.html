<!DOCTYPE html>
<html>
  <head>
    <title>用户注册</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/login-logo.png') }}">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script
      type="text/javascript"
      src="{{ url_for('static', filename='js/register.js') }}"
    ></script>
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
  </head>

  <body class="login-background">
    {% if message == "success" %}
    <div
      id="alert"
      class="alert alert-success fixed-top"
      role="alert"
      style="display: none"
    >
      恭喜您！注册成功！
    </div>
    {% endif %} {% if message == "error" %}
    <div
      id="alert"
      class="alert alert-warning fixed-top"
      role="alert"
      style="display: none"
    >
      很遗憾 ！注册失败！ 用户名已经存在
    </div>
    {% endif %} {% if message == "nouser" %}
    <div
      id="alert"
      class="alert alert-warning fixed-top"
      role="alert"
      style="display: none"
    >
      很遗憾 ！登录失败！ 没有此用户,请进行注册
    </div>
    {% endif %}

    <div class="form-container">
      <div class="center-content">
        <img
          src="{{ url_for('static', filename='images/login-logo.png') }}"
          alt="Example Image"
        />
        <h2 style="text-align: center">水路智能交通</h2>
        <h2 style="text-align: center">用户注册系统</h2>
      </div>
      <form id="register-form" action="{{ url_for('register') }}" method="POST">
        用户名:
        <input type="text" id="reg-username" name="reg-username" /><br />
        密码:
        <input type="password" id="reg-password" name="reg-password" /><br />
        <input type="submit" value="Register" />
        <a href="{{ url_for('index') }}">返回登录界面 </a>
      </form>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // 显示警告框
      document.getElementById("alert").style.display = "block";
      // 过一段时间后隐藏警告框
      setTimeout(function () {
        document.getElementById("alert").style.display = "none";
      }, 5000); // 5000 毫秒即 5 秒
    </script>
  </body>

  <style>
    .login-background {
      background-image: url('{{url_for("static", filename="css/images/login-bg.jpg")}}');
    }
    #alert {
      display: none;
      position: fixed;
      top: 20px; /* 顶部间距 */
      left: 50%; /* 居中 */
      transform: translateX(-50%); /* 水平居中 */
      width: 30%; /* 页面长度的 30% */
    }
  </style>
</html>
